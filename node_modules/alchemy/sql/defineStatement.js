'use strict'

var SqlStatement = require('./SqlStatement')
var classy       = require('classy')
var toUpperFirst = require('ustring').toUpperFirst

module.exports = function(name, config){

    if (arguments.length < 2){
        return console.error('Please provide a name for the SqlStatement!')
    }

    config = config || {}

    var extend = config.extend

    if (typeof extend == 'string'){
        extend = require('./' + toUpperFirst(extend))
    }

    config.extend = extend || SqlStatement
    config.alias  = config.alias  || 'sql.' + toUpperFirst(name)
    config.name   = name

    return classy.define(config)
}
