var Select = require('../Select')
var Types  = require('../Types')
var Table  = require('../Table')
var Column = require('../Column')

describe('Select exists', function(){

    it('should return correct query', function(){

        Select(Column('table_name').as('name'))
                .from('information_schema.tables')
                .where('table_schema')
                    .is('public')
                    .and('table_name')
                    .is('users')
                    .end()
                .exists()
                .toString()
        .should
        .equal('SELECT EXISTS(' +
                'SELECT table_name AS name FROM information_schema.tables ' +
                'WHERE table_schema = \'public\' AND table_name = \'users\'' +
                ')')
    })

})